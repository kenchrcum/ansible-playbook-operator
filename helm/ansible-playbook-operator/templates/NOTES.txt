Thank you for installing ansible-playbook-operator.

This chart installs the operator deployment and RBAC permissions.
CRDs are delivered under crds/ and should be installed/upgraded with the chart.

RBAC Configuration:
- Preset: {{ .Values.rbac.preset }}
  - minimal: Least-privilege namespaced permissions (recommended for single-namespace deployments)
  - scoped: Cross-namespace access for cluster-wide scenarios
  - cluster-admin: Full cluster permissions (use with caution, only when playbooks need cluster-wide access)

{{- if .Values.networkPolicies.enabled }}
NetworkPolicy Configuration:
- Status: ENABLED
- Preset: {{ .Values.networkPolicies.preset }}
  - restrictive: Maximum security, only Git endpoints and registries
  - moderate: Balanced security, includes DNS and Kubernetes API (recommended)
  - permissive: Allows all egress (development only, not recommended for production)
{{- else }}
NetworkPolicy Configuration:
- Status: DISABLED (no egress restrictions)
- To enable: Set networkPolicies.enabled=true and choose appropriate preset
{{- end }}

Security Recommendations:
1. Use 'minimal' RBAC preset for single-namespace deployments
2. Enable NetworkPolicies with 'moderate' preset for production environments
3. Regularly audit and update Git/registry endpoints in NetworkPolicies
4. Monitor operator logs for any connectivity issues

The operator is now running and ready to manage Ansible playbook executions.

{{- if .Values.networkPolicies.enabled }}
Note: NetworkPolicies are active. Ensure your CNI supports NetworkPolicy and test connectivity.
{{- end }}
